{"version":3,"file":"js/app.28a89428.js","mappings":"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","sources":["webpack://webpack-starter/webpack/runtime/chunk loaded","webpack://webpack-starter/./src/scripts/svg-render.js","webpack://webpack-starter/./src/scripts/util.js","webpack://webpack-starter/./src/scripts/controls.js","webpack://webpack-starter/./src/scripts/sound.js","webpack://webpack-starter/./src/scripts/game.js","webpack://webpack-starter/./src/scripts/index.js","webpack://webpack-starter/webpack/bootstrap","webpack://webpack-starter/webpack/runtime/global","webpack://webpack-starter/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-starter/webpack/runtime/jsonp chunk loading","webpack://webpack-starter/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","const Sprite = (id) => {\n  const sprite = document.getElementById(id);\n  return {\n    show: () => (sprite.style = `opacity: 1`),\n    hide: () => (sprite.style = `opacity: 0.1`),\n  };\n};\n\nlet SPRITE_TABLE = {};\n\nexport function init() {\n  SPRITE_TABLE = {\n    BALLS: {\n      \"ball-11\": Sprite(\"ball-11\"),\n      \"ball-13\": Sprite(\"ball-12\"),\n\n      \"ball-21\": Sprite(\"ball-21\"),\n      \"ball-22\": Sprite(\"ball-22\"),\n      \"ball-23\": Sprite(\"ball-23\"),\n\n      \"ball-32\": Sprite(\"ball-32\"),\n      \"ball-31\": Sprite(\"ball-31\"),\n      \"ball-33\": Sprite(\"ball-33\"),\n\n      \"ball-41\": Sprite(\"ball-41\"),\n      \"ball-42\": Sprite(\"ball-42\"),\n      \"ball-43\": Sprite(\"ball-43\"),\n    },\n    AMY: {\n      \"tennis-1\": Sprite(\"tennis-1\"),\n      \"tennis-2\": Sprite(\"tennis-2\"),\n      \"tennis-3\": Sprite(\"tennis-3\"),\n      \"amy-1\": Sprite(\"amy-1\"),\n      \"amy-3\": Sprite(\"amy-3\"),\n      \"amy-2\": Sprite(\"amy-2\"),\n    },\n    ROUGE: {\n      \"rouge-2\": Sprite(\"rouge-2\"),\n      \"rouge-1\": Sprite(\"rouge-1\"),\n    },\n    HUD: {\n      miss: Sprite(\"miss\"),\n      \"score-a1\": Sprite(\"score-a1\"),\n      \"score-a2\": Sprite(\"score-a2\"),\n      \"score-a3\": Sprite(\"score-a3\"),\n      \"score-center\": Sprite(\"score-center\"),\n      \"score-r1\": Sprite(\"score-r1\"),\n      \"score-r2\": Sprite(\"score-r2\"),\n      \"score-r3\": Sprite(\"score-r3\"),\n    },\n  };\n}\n\nfunction updateHud(score) {\n  const { HUD } = SPRITE_TABLE;\n  // score can go from -3 to 3 where Amy 3 is -3, and Rouge 3 is 3\n  if (score < -3 || score > 3) {\n    throw new Error(\"Score can only be in [-3 ... 3]\");\n  }\n  HUD[\"score-center\"].show();\n  if (score < 0) {\n    for (let i = 1; i <= Math.abs(score); i++) {\n      HUD[`score-a${i}`].show();\n    }\n  } else if (score > 0) {\n    for (let i = 1; i <= Math.abs(score); i++) {\n      HUD[`score-r${i}`].show();\n    }\n  }\n}\n\nfunction drawBall({ x, y }) {\n  hideAllBalls();\n  const ball = SPRITE_TABLE.BALLS[`ball-${y}${x}`];\n  if (!ball) {\n    throw new Error(`Ball: ${x},${y} does not exist`);\n  }\n  ball.show();\n}\n\nfunction hideAmy() {\n  Object.keys(SPRITE_TABLE.AMY).forEach((s) => SPRITE_TABLE.AMY[s].hide());\n}\n\nfunction hideRouge() {\n  Object.keys(SPRITE_TABLE.ROUGE).forEach((s) => SPRITE_TABLE.ROUGE[s].hide());\n}\n\nfunction hideAllBalls() {\n  Object.keys(SPRITE_TABLE.BALLS).forEach((k) => SPRITE_TABLE.BALLS[k].hide());\n}\n\nfunction clearScreen() {\n  hideAllBalls();\n  hideAmy();\n  hideRouge();\n  Object.keys(SPRITE_TABLE.HUD).forEach((k) => SPRITE_TABLE.HUD[k].hide());\n}\n\nfunction drawAmy(pos, hands) {\n  hideAmy();\n  SPRITE_TABLE.AMY[`amy-${pos}`].show();\n  hands && SPRITE_TABLE.AMY[`tennis-${pos}`].show();\n}\n\nfunction drawRouge(pos) {\n  hideRouge();\n  if (pos < 3) {\n    SPRITE_TABLE.ROUGE[`rouge-${pos}`].show();\n  } else {\n    SPRITE_TABLE.ROUGE[`rouge-2`].show();\n  }\n}\n\nexport function render(state) {\n  clearScreen();\n  drawBall(state.ballPos);\n  drawAmy(state.amyPos, state.amyHandsUp);\n  drawRouge(state.rougePos);\n  updateHud(state.score);\n}\n","export function constrain(num, min, max) {\n    if (num < min) return min;\n    if (num > max) return max;\n    return num;\n  }\n  \n  export function randomFrom(arr) {\n    const itemIndex = Math.floor(Math.random() * arr.length);\n    return arr[itemIndex];\n  }","import { constrain } from \"./util\";\n\nexport const controlsState = {\n  left: false,\n  right: false,\n  hands: 0,\n};\n\nfunction _update(e, v) {\n  if (e.key === \"ArrowLeft\" || e.key === \"A\") {\n    controlsState.left = v;\n    controlsState.right = !v;\n  }\n  if (e.key === \" \") {\n    controlsState.hands += 2;\n    controlsState.hands += constrain(controlsState.hands, 0, 2);\n  }\n  if (e.key === \"ArrowRight\" || e.key === \"D\") {\n    controlsState.right = v;\n    controlsState.left = !v;\n  }\n}\n\nexport function initControls() {\n  addEventListener(\"keydown\", (e) => _update(e, true));\n}\nexport function clearControls() {\n  controlsState.left = false;\n  controlsState.right = false;\n  controlsState.hands = constrain(controlsState.hands - 1, 0, 2);\n}\n\n","import { Howl } from 'howler';\n\nconst BASE_PATH = 'assets/arvolleyball/';\n\nfunction howl(path) {\n    return new Howl({\n        src: [`${BASE_PATH}/${path}`]\n    });\n}\nexport const sounds = {\n    hit: howl('hit.ogg'),\n    gameOver: howl('game_over.ogg'),\n    gameStart: howl('game_start.ogg'),\n    miss: howl('miss.ogg'),\n    score: howl('score.ogg'),\n};","import { controlsState } from \"./controls\";\nimport { sounds } from \"./sound\";\nimport { randomFrom, constrain } from \"./util\";\n\nexport const state = {\n  rougePos: 1, // 1 or 2\n  amyPos: 2, // 1, 2, 3\n  amyHandsUp: 0, // 3,2,1,0\n  ballPos: {\n    x: 2, // 1,2,3\n    y: 4, // 1-2-3-4\n  },\n  ballVelocity: { y: 0, x: 0 }, // if the ball goes up or down\n  gameOver: false, // bool\n  score: 0, // -3 ... 3\n  gameDifficulty: 0.7 // odds of Rouge deflecting the ball. 1 - 100%\n};\n\nexport function update() {\n  if (state.score <= -3 || state.score >= 3) {\n    state.gameOver = true;\n    state.score = 0;\n    sounds.gameOver.play();\n    return;\n  }\n\n  // move the ball\n  let changeScoreBy = 0;\n  let hit = false;\n\n  // hands stay up for up to 3 frames\n  state.amyHandsUp = constrain(controlsState.hands - 1, 0, 3);\n  const { ballPos } = state;\n\n  if (ballPos.y === 4) {\n    // is with amy\n    if (state.amyHandsUp && state.amyPos === ballPos.x) {\n      hit = true;\n      state.ballVelocity.x = randomFrom([-1, 0, 1]);\n      state.amyHandsUp = 1;\n    } else {\n      changeScoreBy = -1;\n      /// missed. score down\n    }\n  } else if (ballPos.y === 1) {\n    // is with Rouge\n    const willRougeDeflect = state.gameDifficulty === 1 ? true : Math.random() > state.gameDifficulty; // better in-between difficulty scaling\n    if (willRougeDeflect) {\n      state.rougePos = ballPos.x;\n    }\n    if (state.rougePos === ballPos.x) {\n      hit = true;\n      if (state.rougePos === 1) {\n        state.ballVelocity.x = randomFrom([0, 1]);\n      } else {\n        state.ballVelocity.x = randomFrom([0, -1]);\n      }\n    } else {\n      changeScoreBy = 1;\n    }\n  }\n\n  if (hit) {\n    sounds.hit.play();\n    state.ballVelocity.y = state.ballVelocity.y\n      ? (state.ballVelocity.y *= -1)\n      : -1;\n  }\n\n  const ballIsRolling = state.ballVelocity.y !== 0;\n\n  if (ballIsRolling) {\n    // only move after the game started\n    if (controlsState.left && state.amyPos >= 2) {\n      state.amyPos--;\n    }\n    if (controlsState.right && state.amyPos <= 3) {\n      state.amyPos++;\n    }\n    state.amyPos = constrain(state.amyPos, 1, 3);\n    const ballCrossingTheNetInTheMiddle = ballPos.x === 2 && ballPos.y === 2;\n    const ballIsComingFromRouge = state.ballVelocity.y === 1;\n\n    if (ballIsComingFromRouge && ballCrossingTheNetInTheMiddle) {\n      // in this case we have a 50% chance of changing the ball direction\n      state.ballVelocity.x = randomFrom([0, state.ballVelocity.x]);\n    }\n\n    if (changeScoreBy !== 0) {\n      state.score += changeScoreBy;\n      state.ballPos = { x: 2, y: 4 };\n      state.amyPos = 2;\n      state.ballVelocity.x = 0;\n      state.ballVelocity.y = 0;\n      if (changeScoreBy > 0 ) {\n         sounds.score.play();\n      } else {\n        sounds.miss.play();\n      }\n    }\n\n    state.ballPos.y = constrain(state.ballPos.y + state.ballVelocity.y, 1, 4);\n    state.ballPos.x = constrain(state.ballPos.x + state.ballVelocity.x, 1, 3);\n  }\n\n  if (state.ballPos.x === 2 && state.ballPos.y === 1) {\n    state.ballPos.x += randomFrom([-1, 1]);\n  }\n}\n\n","import \"../styles/index.scss\";\nimport { init, render } from \"./svg-render\";\nimport { state, update } from \"./game\";\nimport { initControls, clearControls } from \"./controls\";\n\nasync function createImage(src, className) {\n  const img = document.createElement(\"img\");\n  img.className = className;;\n  img.src = src;\n  return img;\n}\n\nasync function createSvgImage() {\n  const svg = document.createElement(\"svg\");\n  svg.className = \"lcd-screen\";\n  svg.innerHTML = await fetch(\"assets/arvolleyball/arvolleyball.svg\")\n    .then((res) => res.text())\n    .then((text) => {\n      return text;\n    });\n  return svg;\n}\n\n\nconst FPS = 2;\nasync function run() {\n  document.body.appendChild(await createImage(\"assets/arvolleyball/arvolleyball_front.jpg\", \"lcd-game\"));\n  document.body.appendChild(await createImage(\"assets/arvolleyball/arvolleyball_bg.jpg\", \"lcd-background\"));\n  document.body.appendChild(await createSvgImage());\n  init();\n  initControls();\n  setInterval(() => {\n    update();\n    render(state);\n    clearControls();\n  }, 1000 / FPS);\n}\n\nrun();\n\nconsole.log(`Hello!`);","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebpack_starter\"] = self[\"webpackChunkwebpack_starter\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [26], function() { return __webpack_require__(5889); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","Sprite","id","sprite","document","getElementById","show","style","hide","SPRITE_TABLE","init","BALLS","AMY","ROUGE","HUD","miss","hideAmy","Object","keys","forEach","s","hideRouge","hideAllBalls","k","render","state","pos","hands","x","y","ball","Error","drawBall","ballPos","amyPos","amyHandsUp","drawRouge","rougePos","score","i","Math","abs","updateHud","constrain","num","min","max","randomFrom","arr","floor","random","length","controlsState","left","right","initControls","addEventListener","e","v","key","_update","clearControls","howl","path","Howl","src","sounds","hit","gameOver","gameStart","ballVelocity","gameDifficulty","update","play","changeScoreBy","ballCrossingTheNetInTheMiddle","createImage","className","img","createElement","createSvgImage","svg","fetch","then","res","text","innerHTML","body","appendChild","setInterval","run","console","log","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","g","globalThis","this","Function","window","o","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}